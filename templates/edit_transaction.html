{% extends "base.html" %} {% block title %}Редактировать операцию – MiniCash{%
endblock %} {% block content %}
<div class="auth-wrapper">
  <div class="auth-card" style="max-width: 480px">
    <h1>Редактирование операции</h1>

    <form
      method="post"
      action="{{ url_for('edit_transaction', tx_id=tx.id) }}"
    >
      <p style="font-size: 14px; color: var(--text-secondary)">
        Тип:
        {% if tx.type == 'expense' %}Расход{% else %}Доход{% endif %}
      </p>

      <label>
        Сумма
        <input
          type="number"
          step="0.01"
          min="0"
          name="amount"
          value="{{ tx.amount }}"
          required
        />
      </label>

      <label>
        Категория
        <select name="category_id" required>
          {% for cat in categories %}
          <option
            value="{{ cat.id }}"
            {% if cat.id == tx.category_id %}selected{% endif %}
          >
            {{ cat.name }}
          </option>
          {% endfor %}
        </select>
      </label>

      <label>
        Дата
        <input
          type="date"
          name="date"
          value="{{ tx.created_at.strftime('%Y-%m-%d') }}"
        />
      </label>

      <label>
        Комментарий
        <input type="text" name="description" value="{{ tx.description or '' }}" />
      </label>

      <button type="submit" class="btn-primary">Сохранить изменения</button>
    </form>

    <p class="auth-footer">
      <a href="{{ url_for('dashboard') }}">Вернуться к дашборду</a>
    </p>
  </div>
</div>
{% endblock %}